(() => {
	"use strict";
	var t, e;

	function i(t, e, i, o) {
		return t > e ? (t + e) / 2 : 1 == i && window.innerWidth > o ? e : Math.round(t + (e - t) * ((window.innerWidth - 320) / (o - 320)), 3)
	}
	t = function(t) {
		let e = !0 === t ? "webp" : "no-webp";
		document.querySelector("body").classList.add(e)
	}, (e = new Image).onload = e.onerror = function() {
		t(2 == e.height)
	}, e.src = "data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";
	class o extends class {
		constructor(t) {
			this.options = t, t.centerY = t.height / 2, t.width = t.width, t.waveHeightSection = i(t.waveSection[0], t.waveSection[1], t.waveSection[2], t.waveSection[3]), t.waveHeight = t.width / t.waveHeightSection, t.waveLenght = i(t.lenght[0], t.lenght[1], t.lenght[2], t.lenght[3]), t.waveAmplitude = -t.waveHeight / t.waveLenght / 2
		}
	} {
		constructor(t, e) {
			super(e), this.$el = document.querySelector(t), this.$ctx = this.$el.getContext("2d"), window.addEventListener("resize", (() => {
				this.init()
			})), this.init(), "left" == this.options.side ? this.loopLeft() : this.loopRight()
		}
		init() {
			this.options.width = window.innerWidth, this.$el.width = this.options.width, this.options.waveHeightSection = i(this.options.waveSection[0], this.options.waveSection[1], this.options.waveSection[2], this.options.waveSection[3]), this.options.waveHeight = this.options.width / this.options.waveHeightSection, this.options.waveLenght = i(this.options.lenght[0], this.options.lenght[1], this.options.lenght[2], this.options.lenght[3])
		}
		drawWaveLeft() {
			this.$ctx.strokeStyle = this.options.background, this.$ctx.lineWidth = this.options.lineWidth, this.$ctx.beginPath(), this.$ctx.moveTo(0, this.centerY);
			for (let t = 0; t < this.$el.width / this.options.waveLenght - this.options.waveLenght - this.options.biasX + 2 - this.options.totalbisaX; t++) {
				let e = t * Math.PI / 180,
					i = (t + this.options.biasX) * this.options.waveLenght,
					o = this.options.centerY + Math.sin(e + this.options.waveAmplitude / this.options.speed / 10) * t / this.options.waveHeight;
				this.$ctx.lineTo(i, o)
			}
			this.$ctx.lineTo(this.$el.width, this.$el.height), this.$ctx.lineTo(0, this.$el.height), this.$ctx.lineTo(0, this.$el.height / 2), this.$ctx.fillStyle = this.options.background, this.$ctx.fill(), this.$ctx.stroke()
		}
		drawWaveRight() {
			this.$ctx.strokeStyle = this.options.background, this.$ctx.lineWidth = this.options.lineWidth, this.$ctx.beginPath(), this.options.biasX < 0 && this.$ctx.lineTo(this.$el.width, this.options.centerY);
			for (let t = this.$el.width / this.options.waveLenght; t > -this.options.biasX + this.options.totalbisaX; t -= 1) {
				let e = -t * Math.PI / 180,
					i = (t + this.options.biasX) * this.options.waveLenght,
					o = this.options.centerY + Math.sin(e + this.options.waveAmplitude / this.options.speed / 10) * (this.$el.width / this.options.waveLenght - t) / this.options.waveHeight;
				this.$ctx.lineTo(i, o)
			}
			this.$ctx.lineTo(0, this.$el.height), this.$ctx.lineTo(this.$el.width, this.$el.height), this.$ctx.fillStyle = this.options.background, this.$ctx.fill(), this.$ctx.stroke()
		}
		updateWave() {
			this.options.waveAmplitude >= 60 * this.options.speed + 10 ? this.options.waveAmplitude = 1 : this.options.waveAmplitude++
		}
		loopLeft() {
			this.$el.width |= 0, this.options.waveHeight = this.options.width / this.options.waveHeightSection, this.updateWave(), this.drawWaveLeft(), requestAnimationFrame((() => {
				this.loopLeft()
			}))
		}
		loopRight() {
			this.$el.width |= 0, this.options.waveHeight = this.options.width / this.options.waveHeightSection, this.updateWave(), this.drawWaveRight(), requestAnimationFrame((() => {
				this.loopRight()
			}))
		}
	}

	function s(t) {
		this.type = t
	}
	new o("#water-wave_1", {
		background: "#005466",
		lenght: [1, 2, 1, 1280],
		waveSection: [15, 70, 1, 1280],
		height: 110,
		width: window.innerWidth,
		lineWidth: 5,
		speed: 3,
		side: "right",
		biasX: 100,
		totalbisaX: 0
	}), new o("#water-wave_2", {
		background: "#F7D8BF",
		lenght: [1, 2, 1, 1280],
		waveSection: [15, 70, 1, 1280],
		height: 110,
		width: window.innerWidth,
		lineWidth: 5,
		speed: 3,
		side: "left",
		biasX: -100,
		totalbisaX: 0
	}), new o("#water-wave_3", {
		background: "#64BAA1",
		lenght: [1.5, 4, 1, 1280],
		waveSection: [15, 140, 1, 1280],
		height: 120,
		width: window.innerWidth,
		lineWidth: 5,
		speed: 4.3,
		side: "left",
		biasX: -150,
		totalbisaX: -3
	}), s.prototype.init = function() {
		const t = this;
		this.оbjects = [], this.daClassname = "_dynamic_adapt_", this.nodes = document.querySelectorAll("[data-da]");
		for (let t = 0; t < this.nodes.length; t++) {
			const e = this.nodes[t],
				i = e.dataset.da.trim().split(","),
				o = {};
			o.element = e, o.parent = e.parentNode, o.destination = document.querySelector(i[0].trim()), o.breakpoint = i[1] ? i[1].trim() : "767", o.place = i[2] ? i[2].trim() : "last", o.index = this.indexInParent(o.parent, o.element), this.оbjects.push(o)
		}
		this.arraySort(this.оbjects), this.mediaQueries = Array.prototype.map.call(this.оbjects, (function(t) {
			return "(" + this.type + "-width: " + t.breakpoint + "px)," + t.breakpoint
		}), this), this.mediaQueries = Array.prototype.filter.call(this.mediaQueries, (function(t, e, i) {
			return Array.prototype.indexOf.call(i, t) === e
		}));
		for (let e = 0; e < this.mediaQueries.length; e++) {
			const i = this.mediaQueries[e],
				o = String.prototype.split.call(i, ","),
				s = window.matchMedia(o[0]),
				n = o[1],
				r = Array.prototype.filter.call(this.оbjects, (function(t) {
					return t.breakpoint === n
				}));
			s.addListener((function() {
				t.mediaHandler(s, r)
			})), this.mediaHandler(s, r)
		}
	}, s.prototype.mediaHandler = function(t, e) {
		if (t.matches)
			for (let t = 0; t < e.length; t++) {
				const i = e[t];
				i.index = this.indexInParent(i.parent, i.element), this.moveTo(i.place, i.element, i.destination)
			} else
				for (let t = 0; t < e.length; t++) {
					const i = e[t];
					i.element.classList.contains(this.daClassname) && this.moveBack(i.parent, i.element, i.index)
				}
	}, s.prototype.moveTo = function(t, e, i) {
		e.classList.add(this.daClassname), "last" === t || t >= i.children.length ? i.insertAdjacentElement("beforeend", e) : "first" !== t ? i.children[t].insertAdjacentElement("beforebegin", e) : i.insertAdjacentElement("afterbegin", e)
	}, s.prototype.moveBack = function(t, e, i) {
		e.classList.remove(this.daClassname), void 0 !== t.children[i] ? t.children[i].insertAdjacentElement("beforebegin", e) : t.insertAdjacentElement("beforeend", e)
	}, s.prototype.indexInParent = function(t, e) {
		const i = Array.prototype.slice.call(t.children);
		return Array.prototype.indexOf.call(i, e)
	}, s.prototype.arraySort = function(t) {
		"min" === this.type ? Array.prototype.sort.call(t, (function(t, e) {
			return t.breakpoint === e.breakpoint ? t.place === e.place ? 0 : "first" === t.place || "last" === e.place ? -1 : "last" === t.place || "first" === e.place ? 1 : t.place - e.place : t.breakpoint - e.breakpoint
		})) : Array.prototype.sort.call(t, (function(t, e) {
			return t.breakpoint === e.breakpoint ? t.place === e.place ? 0 : "first" === t.place || "last" === e.place ? 1 : "last" === t.place || "first" === e.place ? -1 : e.place - t.place : e.breakpoint - t.breakpoint
		}))
	}, new s("max").init();
	const n = document.querySelectorAll("[data-spollers]");
	if (n.length > 0) {
		const t = Array.from(n).filter((function(t, e, i) {
			return !t.dataset.spollers.split(",")[0]
		}));
		t.length > 0 && i(t);
		const e = Array.from(n).filter((function(t, e, i) {
			return t.dataset.spollers.split(",")[0]
		}));
		if (e.length > 0) {
			const t = [];
			e.forEach((e => {
				const i = {},
					o = e.dataset.spollers.split(",");
				i.value = o[0], i.type = o[1] ? o[1].trim() : "max", i.item = e, t.push(i)
			}));
			let o = t.map((function(t) {
				return "(" + t.type + "-width:" + t.value + "px)," + t.value + "," + t.type
			}));
			o = o.filter((function(t, e, i) {
				return i.indexOf(t) === e
			})), o.forEach((e => {
				const o = e.split(","),
					s = o[1],
					n = o[2],
					r = window.matchMedia(o[0]),
					l = t.filter((function(t) {
						if (t.value === s && t.type === n) return !0
					}));
				r.addListener((function() {
					i(l, r)
				})), i(l, r)
			}))
		}

		function i(t, e = !1) {
			t.forEach((t => {
				t = e ? t.item : t, e.matches || !e ? (t.classList.add("_init"), o(t), t.addEventListener("click", s)) : (t.classList.remove("_init"), o(t, !1), t.removeEventListener("click", s))
			}))
		}

		function o(t, e = !0) {
			const i = t.querySelectorAll("[data-spoller]");
			i.length > 0 && i.forEach((t => {
				e ? (t.removeAttribute("tabindex"), t.classList.contains("_active") || (t.nextElementSibling.hidden = !0)) : (t.setAttribute("tabindex", -1), t.nextElementSibling.hidden = !1)
			}))
		}

		function s(t) {
			const e = t.target;
			if (e.hasAttribute("data-spoller") || e.closest("[data-spoller]")) {
				const i = e.hasAttribute("data-spoller") ? e : e.closest("[data-spoller]"),
					o = i.closest("[data-spollers]"),
					s = !!o.hasAttribute("data-one-spoller");
				o.querySelectorAll("._slide").length || (s && !i.classList.contains("_active") && a(o), i.classList.toggle("_active"), l(i.nextElementSibling, 500)), t.preventDefault()
			}
		}

		function a(t) {
			const e = t.querySelector("[data-spoller]._active");
			e && (e.classList.remove("_active"), r(e.nextElementSibling, 500))
		}
	}
	let r = (t, e = 500) => {
			t.classList.contains("_slide") || (t.classList.add("_slide"), t.style.transitionProperty = "height, margin, padding", t.style.transitionDuration = e + "ms", t.style.height = t.offsetHeight + "px", t.offsetHeight, t.style.overflow = "hidden", t.style.height = 0, t.style.paddingTop = 0, t.style.paddingBottom = 0, t.style.marginTop = 0, t.style.marginBottom = 0, window.setTimeout((() => {
				t.hidden = !0, t.style.removeProperty("height"), t.style.removeProperty("padding-top"), t.style.removeProperty("padding-bottom"), t.style.removeProperty("margin-top"), t.style.removeProperty("margin-bottom"), t.style.removeProperty("overflow"), t.style.removeProperty("transition-duration"), t.style.removeProperty("transition-property"), t.classList.remove("_slide")
			}), e))
		},
		l = (t, e = 500) => t.hidden ? ((t, e = 500) => {
			if (!t.classList.contains("_slide")) {
				t.classList.add("_slide"), t.hidden && (t.hidden = !1);
				let i = t.offsetHeight;
				t.style.overflow = "hidden", t.style.height = 0, t.style.paddingTop = 0, t.style.paddingBottom = 0, t.style.marginTop = 0, t.style.marginBottom = 0, t.offsetHeight, t.style.transitionProperty = "height, margin, padding", t.style.transitionDuration = e + "ms", t.style.height = i + "px", t.style.removeProperty("padding-top"), t.style.removeProperty("padding-bottom"), t.style.removeProperty("margin-top"), t.style.removeProperty("margin-bottom"), window.setTimeout((() => {
					t.style.removeProperty("height"), t.style.removeProperty("overflow"), t.style.removeProperty("transition-duration"), t.style.removeProperty("transition-property"), t.classList.remove("_slide")
				}), e)
			}
		})(t, e) : r(t, e);
	const a = document.querySelectorAll("._anim-items");
	if (a.length > 0) {
		function t() {
			for (let t = 0; t < a.length; t++) {
				const i = a[t],
					o = i.offsetHeight,
					s = e(i).top,
					n = 4;
				let r = window.innerHeight - o / n;
				o > window.innerHeight && (r = window.innerHeight - window.innerHeight / n), pageYOffset > s - r && pageYOffset < s + o ? i.classList.add("_active") : i.classList.contains("_anim-no-hide") || i.classList.remove("_active")
			}
		}

		function e(t) {
			const e = t.getBoundingClientRect(),
				i = window.pageXOffset || document.documentElement.scrollLeft,
				o = window.pageYOffset || document.documentElement.scrollTop;
			return {
				top: e.top + o,
				left: e.left + i
			}
		}
		window.addEventListener("scroll", t), setTimeout((() => {
			t()
		}), 300)
	}
	let c = null !== navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i) || void 0 !== document.createTouch || "ontouchstart" in window || "onmsgesturechange" in window || navigator.msMaxTouchPoints;
	! function() {
		let t = document.querySelectorAll("._ibg");
		for (var e = 0; e < t.length; e++) t[e].querySelector("img") && (t[e].style.backgroundImage = "url(" + t[e].querySelector("img").getAttribute("src") + ")")
	}(), window.onload = function() {
		document.addEventListener("click", (function(t) {
			const e = t.target;
			if (window.innerWidth <= 599 && (e.closest(".header__burger") && document.querySelector(".header__burger").classList.contains("_active") || !e.closest(".header__menu") && !e.closest(".header__burger") ? (document.querySelector(".header__menu").classList.remove("_active"), document.querySelector(".header__burger").classList.remove("_active"), document.body.classList.remove("_lock")) : e.closest(".header__burger") && (document.querySelector(".header__menu").classList.add("_active"), document.querySelector(".header__burger").classList.add("_active"), document.body.classList.add("_lock"))), c)
				if (e.classList.contains("arrow-down"))
					if (e.offsetParent.classList.contains("_hover")) e.closest(".sub-menu-title").classList.remove("_hover");
					else {
						if (!e.offsetParent.classList.contains("_sub"))
							for (let t = 0; u.length > t; t++) u[t].classList.contains("_hover") && u[t].classList.remove("_hover");
						e.closest(".sub-menu-title").classList.add("_hover")
					}
			else if (!e.classList.contains("arrow-down") && !e.closest(".sub-menu"))
				for (let t = 0; u.length > t; t++) u[t].classList.contains("_hover") && u[t].classList.remove("_hover");
			e.closest(".cookie__button") && (t.preventDefault(), document.querySelector(".cookie").classList.add("_accept"))
		})), window.addEventListener("resize", (function() {
			t = f(".calm"), e = f("._ideal"), i = f(".mission"), o = f(".science"), d = window.innerWidth, b(), v(), w(), p < 490 && h.classList.remove("_rest")
            if (window.innerWidth <= 650) {
                document.querySelector(".first img").style.minHeight = window.innerHeight - document.querySelector(".first__body").getBoundingClientRect().height - document.querySelector(".header").getBoundingClientRect().height - 15 + "px";
            }
        }));
		let t = f(".calm"),
			e = f("._ideal"),
			i = f(".mission"),
			o = f(".science"),
			s = document.querySelector(".header"),
			n = document.querySelector(".header__menu");
		window.addEventListener("scroll", b);
		let r = 0,
			l = 0,
			a = document.querySelector(".cookie"),
			h = document.querySelector(".first__content"),
			d = window.innerWidth;
		const p = window.innerHeight,
			u = document.querySelectorAll(".sub-menu-title");
		let m = document.querySelectorAll(".sub-menu__list"),
			g = document.querySelectorAll(".sub-menu__link");

		function f(t) {
			return document.querySelector(t).getBoundingClientRect().top + window.pageYOffset
		}

		function y(t, e) {
			for (let i = 0; i < t.length; i++) t[i].style.backgroundColor = e
		}

		function w(t) {
			t >= 50 ? document.querySelector(".cookie").classList.add("_resize") : document.querySelector(".cookie").classList.remove("_resize")
		}

		function v(t, e) {
			if (window.innerWidth > 768 && document.body.classList.remove("_lock"), e > 0) s.classList.add("_show");
			else {
				s.classList.remove("_show");
				for (let t = 0; u.length > t; t++) u[t].classList.contains("_hover") && u[t].classList.remove("_hover")
			}
			t > 30 ? (n.classList.add("_resize"), s.classList.add("_resize")) : t < 30 && (n.classList.remove("_resize"), s.classList.remove("_resize")), 0 == t && p >= 490 && d < 650 ? (h.classList.add("_rest"), document.querySelector(".first").style.paddingBottom = 0 + "px", h.style.position = "inherit", h.style.left = "0px", h.style.bottom = "0px", h.style.width = "100%", h.style.backgroundColor = "#fff") : 0 != t && p >= 490 && d < 650 && (h.classList.remove("_rest"), document.querySelector(".first").style.minHeight = window.innerHeight - document.querySelector(".first__body").getBoundingClientRect().height + "px", h.style.position = "inherit", h.style.left = "0px", h.style.bottom = "0px", h.style.width = "auto", h.style.backgroundColor = "#fff"), d >= 650 && (h.style.position = "inherit", h.style.backgroundColor = "transparent")
		}

		function b() {
			let n = Math.floor(window.pageYOffset || document.documentElement.scrollTop, -1);
			if (window, innerWidth > 768) {
				for (let t = 0; t < g.length; t++) g[t].style.color = "white";
				if (t < n && n < t + document.querySelector(".calm").getBoundingClientRect().height) s.classList.add("_calm"), y(m, "#C47B59");
				else if (e < n && n < e + document.querySelector("._ideal").getBoundingClientRect().height + document.querySelector("._zone").getBoundingClientRect().height) y(m, "black");
				else if (i < n && n < i + document.querySelector(".mission").getBoundingClientRect().height) y(m, "#64BAA1");
				else if (o < n && n < o + document.querySelector(".mission").getBoundingClientRect().height) {
					y(m, "#FCF2F0");
					for (let t = 0; t < g.length; t++) g[t].style.color = "black"
				} else {
					s.classList.remove("_calm"), y(m, "#005466");
					for (let t = 0; t < g.length; t++) g[t].style.color = "white"
				}
			} else {
                if (window.innerWidth < 600) {
                    y(m, "inherit");
                    for (let t = 0; t < g.length; t++) g[t].style.color = "black"
                }
			}
			window.innerWidth < 650 ? n <= 50 ? (a.style.bottom = h.offsetHeight + 5 + "px", a.style.position = "absolute") : (a.style.bottom = "5px", a.style.position = "fixed") : (a.style.bottom = "inherit", a.style.position = "fixed"), n > r ? (r = n, l = 0) : (r = n, l++), v(n, l), w(n)
		}
		b()
	}
    if (window.innerWidth <= 650) {
        document.querySelector(".first img").style.minHeight = window.innerHeight - document.querySelector(".first__body").getBoundingClientRect().height - document.querySelector(".header").getBoundingClientRect().height - 15 + "px";
    }
})();
